{"ast":null,"code":"import React,{useEffect,useState}from'react';import CommonSection from'../shared/CommonSection';import\"../styles/tour.css\";import{Col,Container,Row}from'reactstrap';import SearchBar from'../shared/SearchBar';import TourCard from'../shared/TourCard';import Newsletter from'../shared/ff';// injected: Filter & Sort\nimport FilterSortBar from'../shared/FilterSortBar';import useFetch from'../hooks/useFetch';import{BASE_URL}from'../utils/config';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Tours=()=>{const[query,setQuery]=useState({});const[pageCount,setPageCount]=useState(0);const[page,setPage]=useState(0);const{data:tours,loading,error}=useFetch(\"\".concat(BASE_URL,\"/tours?page=\").concat(page));const{data:tourCount}=useFetch(\"\".concat(BASE_URL,\"/tours/search/getTourCount\"));useEffect(()=>{const pages=Math.ceil(tourCount/8);//later we will use backend data count\nsetPageCount(pages);window.scrollTo(0,0);},[page,tourCount,tours]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"t1\",children:[/*#__PURE__*/_jsxs(\"h1\",{align:\"center\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"gradient-text\",children:\"All Tours\"})]}),/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(SearchBar,{})})})}),/*#__PURE__*/_jsx(\"section\",{className:\"pt-0\",children:/*#__PURE__*/_jsxs(Container,{children:[loading&&/*#__PURE__*/_jsx(\"h4\",{className:\"text-center pt-5\",children:\"Loading.....\"}),error&&/*#__PURE__*/_jsx(\"h4\",{className:\"text-center pt-5\",children:error}),!loading&&!error&&/*#__PURE__*/_jsxs(Row,{children:[tours===null||tours===void 0?void 0:tours.map(tour=>/*#__PURE__*/_jsx(Col,{lg:\"3\",md:\"6\",sm:\"12\",className:\"mb-4\",children:/*#__PURE__*/_jsx(TourCard,{tour:tour})},tour._id)),/*#__PURE__*/_jsx(Col,{lg:\"12\",md:\"12\",sm:\"12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"pagination d-flex align-items-center justify-content-center mt-4 gap-3\",children:[...Array(pageCount).keys()].map(number=>/*#__PURE__*/_jsx(\"span\",{onClick:()=>setPage(number),className:page===number?'active__page':\"\",children:number+1},number))})})]})]})})]})});};export default Tours;","map":{"version":3,"names":["React","useEffect","useState","CommonSection","Col","Container","Row","SearchBar","TourCard","Newsletter","FilterSortBar","useFetch","BASE_URL","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Tours","query","setQuery","pageCount","setPageCount","page","setPage","data","tours","loading","error","concat","tourCount","pages","Math","ceil","window","scrollTo","children","className","align","map","tour","lg","md","sm","_id","Array","keys","number","onClick"],"sources":["C:/Users/00134/Desktop/Contents/MERN/PROJECT/frontend/src/pages/Tours.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport CommonSection from '../shared/CommonSection'\nimport \"../styles/tour.css\"\n\nimport { Col, Container, Row } from 'reactstrap'\nimport SearchBar from '../shared/SearchBar'\nimport TourCard from '../shared/TourCard'\nimport Newsletter from '../shared/ff'\n\n// injected: Filter & Sort\nimport FilterSortBar from '../shared/FilterSortBar';\n\n\nimport useFetch from '../hooks/useFetch'\nimport { BASE_URL } from '../utils/config'\n\nconst Tours = () => {\n const [query, setQuery] = useState({});\n\nconst [pageCount, setPageCount]=useState(0);\nconst [page,setPage]=useState(0);\n\nconst {data:tours,loading,error}= useFetch(`${BASE_URL}/tours?page=${page}`)\nconst {data:tourCount}= useFetch(`${BASE_URL}/tours/search/getTourCount`)\n\nuseEffect(()=>{\n  const pages =Math.ceil(tourCount / 8) //later we will use backend data count\n  setPageCount(pages);\n  window.scrollTo(0,0)\n},[page,tourCount,tours])\n\n  return (\n<>\n<div className='t1'>\n{/* <CommonSection title={\"All Tours\"}/> */}\n<h1 align='center'>\n  <br/>\n<span className=\"gradient-text\">\n            All Tours</span>\n            </h1>\n<section>\n  <Container>\n    <Row>\n{/* <FilterSortBar onChange={(q)=>setQuery(q)} /> */}\n     <SearchBar/>\n    </Row>\n  </Container>\n</section>\n<section className='pt-0'>\n  <Container>\n    {loading && <h4 className='text-center pt-5'>Loading.....</h4>}\n    {error && <h4 className='text-center pt-5'>{error}</h4>}\n{\n  !loading && !error  && <Row>\n{/* <FilterSortBar onChange={(q)=>setQuery(q)} /> */}\n  {\n   tours?.map(tour => (\n   <Col lg=\"3\" md=\"6\" sm=\"12\" className=\"mb-4\" key={tour._id}>\n     <TourCard tour={tour}/>\n     </Col>\n     ))\n  }\n\n  <Col lg=\"12\" md=\"12\" sm=\"12\">\n  <div className=\"pagination d-flex align-items-center\n  justify-content-center mt-4 gap-3\">\n   {[...Array(pageCount).keys()].map(number=>(\n     <span key={number} onClick={() => setPage(number)}\n     className={page === number ? 'active__page': \"\"}\n     >\n       {number + 1}\n     </span>\n   ))}\n\n  </div>\n  </Col>\n </Row>\n}\n  </Container>\n</section>\n{/* <Newsletter/> */}\n</div>\n</>\n  )\n}\n\nexport default Tours\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}