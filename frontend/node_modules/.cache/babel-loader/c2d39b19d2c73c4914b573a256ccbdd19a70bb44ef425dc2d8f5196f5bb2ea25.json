{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\00134\\\\Desktop\\\\Pro\\\\tour\\\\frontend\\\\src\\\\pages\\\\ManageBookings.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { BASE_URL } from \"../utils/config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ManageBookings = () => {\n  _s();\n  const [bookings, setBookings] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (!token) {\n      setError(\"You must be logged in to view bookings.\");\n      setLoading(false);\n      return;\n    }\n    const fetchBookings = async () => {\n      try {\n        const res = await fetch(`${BASE_URL}/booking`, {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n          }\n        });\n        if (!res.ok) {\n          throw new Error(`Failed to fetch bookings: ${res.status}`);\n        }\n        const data = await res.json();\n\n        // API may return { bookings: [...] } or just [...]\n        if (Array.isArray(data)) {\n          setBookings(data);\n        } else if (Array.isArray(data.bookings)) {\n          setBookings(data.bookings);\n        } else {\n          setBookings([]);\n        }\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchBookings();\n  }, []);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading bookings...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    style: {\n      color: \"red\"\n    },\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"manage-bookings\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Manage Bookings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), bookings.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No bookings found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: bookings.map((b, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Tour:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }, this), \" \", b.tourName || \"N/A\", \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 60\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Date:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }, this), \" \", b.date || \"N/A\", \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 56\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Status:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this), \" \", b.status || \"N/A\"]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(ManageBookings, \"PAEPq2PViva62REBsNTRmIygMHA=\");\n_c = ManageBookings;\nexport default ManageBookings;\nvar _c;\n$RefreshReg$(_c, \"ManageBookings\");","map":{"version":3,"names":["React","useEffect","useState","BASE_URL","ManageBookings","bookings","setBookings","loading","setLoading","error","setError","token","localStorage","getItem","fetchBookings","res","fetch","method","headers","Authorization","ok","Error","status","data","json","Array","isArray","err","message","color","length","map","b","i","tourName","date"],"sources":["C:/Users/00134/Desktop/Pro/tour/frontend/src/pages/ManageBookings.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { BASE_URL } from \"../utils/config\";\n\nconst ManageBookings = () => {\n  const [bookings, setBookings] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n\n    if (!token) {\n      setError(\"You must be logged in to view bookings.\");\n      setLoading(false);\n      return;\n    }\n\n    const fetchBookings = async () => {\n      try {\n        const res = await fetch(`${BASE_URL}/booking`, {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n        });\n\n        if (!res.ok) {\n          throw new Error(`Failed to fetch bookings: ${res.status}`);\n        }\n\n        const data = await res.json();\n\n        // API may return { bookings: [...] } or just [...]\n        if (Array.isArray(data)) {\n          setBookings(data);\n        } else if (Array.isArray(data.bookings)) {\n          setBookings(data.bookings);\n        } else {\n          setBookings([]);\n        }\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchBookings();\n  }, []);\n\n  if (loading) return <p>Loading bookings...</p>;\n  if (error) return <p style={{ color: \"red\" }}>{error}</p>;\n\n  return (\n    <div className=\"manage-bookings\">\n      <h2>Manage Bookings</h2>\n      {bookings.length === 0 ? (\n        <p>No bookings found.</p>\n      ) : (\n        <ul>\n          {bookings.map((b, i) => (\n            <li key={i}>\n              <strong>Tour:</strong> {b.tourName || \"N/A\"} <br />\n              <strong>Date:</strong> {b.date || \"N/A\"} <br />\n              <strong>Status:</strong> {b.status || \"N/A\"}\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default ManageBookings;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}