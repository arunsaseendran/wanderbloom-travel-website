{"ast":null,"code":"import React, { useEffect, useState } from \"react\";\nimport { BASE_URL } from \"../utils/config\";\n\n// const ManageBookings = () => {\n//   const [bookings, setBookings] = useState([]);\n//   const [error, setError] = useState(\"\");\n//   const [loading, setLoading] = useState(true);\n\n//   useEffect(() => {\n//     const fetchBookings = async () => {\n//       try {\n//         const token = localStorage.getItem(\"token\"); // ✅ Get token\n\n//         if (!token) {\n//           setError(\"You must be logged in to view bookings\");\n//           setLoading(false);\n//           return;\n//         }\n\n//         const res = await fetch(`${BASE_URL}/booking`, {\n//           method: \"GET\",\n//           headers: {\n//             \"Content-Type\": \"application/json\",\n//             Authorization: `Bearer ${token}`, // ✅ Send token\n//           },\n//         });\n\n//         const result = await res.json();\n\n//         if (!res.ok) {\n//           throw new Error(result.message || \"Failed to fetch bookings\");\n//         }\n\n//         setBookings(result.data || []);\n//       } catch (err) {\n//         setError(err.message);\n//       } finally {\n//         setLoading(false);\n//       }\n//     };\n\n//     fetchBookings();\n//   }, []);\n\n//   return (\n//     <div className=\"manage-bookings\">\n//       <h2>My Bookings</h2>\n\n//       {loading && <p>Loading your bookings...</p>}\n//       {error && <p style={{ color: \"red\" }}>{error}</p>}\n//       {bookings.length === 0 && !loading && !error && <p>No bookings found.</p>}\n\n//       {bookings.length > 0 && (\n//         <table>\n//           <thead>\n//             <tr>\n//               <th>Tour</th>\n//               <th>Guests</th>\n//               <th>Booked On</th>\n//             </tr>\n//           </thead>\n//           <tbody>\n//             {bookings.map((b) => (\n//               <tr key={b._id}>\n//                 <td>{b.tourName}</td>\n//                 <td>{b.guestSize}</td>\n//                 <td>{new Date(b.bookAt).toLocaleDateString()}</td>\n//               </tr>\n//             ))}\n//           </tbody>\n//         </table>\n//       )}\n//     </div>\n//   );\n// };\n\nexport default ManageBookings;","map":{"version":3,"names":["React","useEffect","useState","BASE_URL","ManageBookings"],"sources":["C:/Users/00134/Desktop/Pro/tour/frontend/src/pages/ManageBookings.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { BASE_URL } from \"../utils/config\";\n\n// const ManageBookings = () => {\n//   const [bookings, setBookings] = useState([]);\n//   const [error, setError] = useState(\"\");\n//   const [loading, setLoading] = useState(true);\n\n//   useEffect(() => {\n//     const fetchBookings = async () => {\n//       try {\n//         const token = localStorage.getItem(\"token\"); // ✅ Get token\n\n//         if (!token) {\n//           setError(\"You must be logged in to view bookings\");\n//           setLoading(false);\n//           return;\n//         }\n\n//         const res = await fetch(`${BASE_URL}/booking`, {\n//           method: \"GET\",\n//           headers: {\n//             \"Content-Type\": \"application/json\",\n//             Authorization: `Bearer ${token}`, // ✅ Send token\n//           },\n//         });\n\n//         const result = await res.json();\n\n//         if (!res.ok) {\n//           throw new Error(result.message || \"Failed to fetch bookings\");\n//         }\n\n//         setBookings(result.data || []);\n//       } catch (err) {\n//         setError(err.message);\n//       } finally {\n//         setLoading(false);\n//       }\n//     };\n\n//     fetchBookings();\n//   }, []);\n\n//   return (\n//     <div className=\"manage-bookings\">\n//       <h2>My Bookings</h2>\n\n//       {loading && <p>Loading your bookings...</p>}\n//       {error && <p style={{ color: \"red\" }}>{error}</p>}\n//       {bookings.length === 0 && !loading && !error && <p>No bookings found.</p>}\n\n//       {bookings.length > 0 && (\n//         <table>\n//           <thead>\n//             <tr>\n//               <th>Tour</th>\n//               <th>Guests</th>\n//               <th>Booked On</th>\n//             </tr>\n//           </thead>\n//           <tbody>\n//             {bookings.map((b) => (\n//               <tr key={b._id}>\n//                 <td>{b.tourName}</td>\n//                 <td>{b.guestSize}</td>\n//                 <td>{new Date(b.bookAt).toLocaleDateString()}</td>\n//               </tr>\n//             ))}\n//           </tbody>\n//         </table>\n//       )}\n//     </div>\n//   );\n// };\n\nexport default ManageBookings;\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,QAAQ,QAAQ,iBAAiB;;AAE1C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAeC,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}